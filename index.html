<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Rock - Paper - Scissors</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
    </head>
    <body>
        <h1>Rock - Paper - Scissors</h1>
        <h2>Let's play a game together!</h2>
        <div class="rules">
            <p>Rock - paper - scissors is a simple game for 2 players. Each round, each player secretly choose one element to "battle" and then we compare the chosen elements to determine who wins the round. The game is won by the first player who wins 5 rounds.</p>
            <p>Here are the strenghts of each element:</p>
            <ul>
                <li>The rock breaks the scissors</li>
                <li>The paper wraps the rock</li>
                <li>Scissors cut the paper</li>
            </ul>
        </div>
        <div class="round">
            <p>Choose your element to compete against the computer:</p>
            <button class="choice" value="0">Rock</button>
            <button class="choice" value="1">Paper</button>
            <button class="choice" value="2">Scissors</button>

            <p>Your choice: <span class="playerRound"></span></p>
            <p>The computer's choice: <span class="computerRound"></span></p>
            <p class="roundWinner"></p>
        </div>
        <div class="score">
            <h3>Total score:</h3>
            <p>You: <span class="playerScore"></span></p>
            <p>The Computer: <span class="computerScore"></span></p>
            <h2 class="finalScore"></h2>
        </div>
        
        <script>
            // Randomize selection for the computer
            function computerPlay() {
                let random = Math.floor(Math.random() * 3);
                let computerChoice;
                switch (random) {
                    case 0 : 
                        computerChoice = 'rock';
                        break
                    case 1 : 
                        computerChoice = 'paper';
                        break
                    case 2 : 
                        computerChoice = 'scissors';
                        break
                }
                return computerChoice
            }

            // Select the winner of the round
            function selectWinner(computer, player) {
                if ((computer === 'rock' && player === 'rock') || (computer === 'paper' && player === 'paper') || (computer === 'scissors' && player === 'scissors')) {
                    roundWinner = 'none';
                    return roundWinner
                } else if ((computer === 'rock' && player === 'scissors') || (computer === 'paper' && player === 'rock') || (computer === 'scissors' && player === 'paper')) {
                    roundWinner = 'Computer';
                    return roundWinner
                } else if ((computer === 'scissors' && player === 'rock') || (computer === 'rock' && player === 'paper') || (computer === 'paper' && player === 'scissors')) {
                    roundWinner = 'Player';
                    return roundWinner
                }
            }

            // Announce the winner of the round
            function announceWinner(roundWinner) {
                if (roundWinner === 'Computer') {
                    message = `The computer wins the round.`;
                    return message
                } else if (roundWinner === 'Player') {
                    message = `You win the round.`;
                    return message;
                } else {
                    message = `This round is even.`;
                    return message;
                }
            }
        
            
            // Play a round
            function playRound(e){
                gameWinner.textContent = '';
                let computerChoice = computerPlay();
                let playerChoice = Number(e.target.value);
                switch (playerChoice) {
                    case 0 : 
                        playerChoice = 'rock';
                        break
                    case 1 : 
                        playerChoice = 'paper';
                        break
                    case 2 : 
                        playerChoice = 'scissors';
                        break
                }
                document.querySelector('.playerRound').textContent = playerChoice;
                document.querySelector('.computerRound').textContent = computerChoice;
                
                let roundWinner = selectWinner(computerChoice, playerChoice);
                let announceRoundWinner = announceWinner(roundWinner)
                document.querySelector('.roundWinner').textContent = announceRoundWinner;
                if (roundWinner === "Computer") {
                    computerScore ++;
                } else if (roundWinner === "Player") {
                    playerScore ++;
                }
                document.querySelector('.computerScore').textContent = computerScore;
                document.querySelector('.playerScore').textContent = playerScore;
                
                if (computerScore == 5) {
                    gameWinner.textContent = 'The computer wins the game!';
                    computerScore = 0;
                    playerScore = 0;
                }
                if (playerScore == 5) {
                    gameWinner.textContent = 'You win the game!'
                    computerScore = 0;
                    playerScore = 0;
                }
            }


            let computerScore = 0;
            let playerScore = 0;
            let gameWinner = document.querySelector('.finalScore');
            let buttons = document.querySelectorAll('button');
            buttons.forEach(button => {
                button.addEventListener('click', playRound);
            });
            

        </script>
    </body>
</html>